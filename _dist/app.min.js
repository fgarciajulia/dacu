var owl_Home = $('#owl-carousel1');
var owl_Servicios = $('#owl-carousel2');

$(document).ready(function () {
  owl_Home.owlCarousel({
    loop: true,
    items: 1,
    autoplay: true,
    autoplayTimeout: 3000,
    autoplayHoverPause: false,
    autoplaySpeed: true,
    animateOut: 'fadeOut',
    animateIn: 'fadeIn',
    smartSpeed: 450,
    lazyLoad: true,
    margin: 400,
  });
});

$(window).scroll(function () {
  if ($(document).scrollTop() > 20) {
    $('nav').addClass('Fondo');
  } else {
    $('nav').removeClass('Fondo');
  }
});

$(function () {
  $('nav a').bind('click', function (event) {
    var $anchor = $(this);
    $('html, body').stop().animate({
      scrollTop: $($anchor.attr('href')).offset().top
    }, 1500, 'easeInOutExpo');
    event.preventDefault();
  });
});



$(window).ready(function () {
  var controller = $.superscrollorama({
    triggerAtCenter: false,
    playoutAnimations: true,
  });


  var line5 = $(' #Line5-SVG polyline');


  /* Mockup 1 */
  TweenLite.from('#Line1-poly', 7, { drawSVG: '100% 100%', delay: 0.2 });
  TweenLite.from('#Line2-poly', 5, { drawSVG: '0% 0%', delay: 6 });

  /* Title  Diseño Grafico */
  TweenLite.to('#Line3-poly', 1, { drawSVG: '6% 85%', delay: 0 });
  TweenLite.to('#Line4-poly', 1, { drawSVG: '30% 100%', delay: 0 });



  /* Diseño Grafico */
  var misela1 = $('.cuadraditos_sereados > rect');
  var minela2 = $('#responsive_misela_cuadraditos_02 > rect');
  var miselaSlider = $('.owl-dot');


  TweenMax.staggerFrom(misela1, 0.5, { opacity: 0, y: 200, x: 200, scale: 3, delay: 0.5 }, 0.2);
  TweenMax.staggerFrom(miselaSlider, 0.5, { opacity: 0, y: 200, x: 200, rotation: 680, scale: 2, delay: 0.5 }, 0.2);

  /* Responsive */

  var staggerTween = new TimelineMax();
  staggerTween.append(TweenMax.staggerFrom(minela2, 1, { css: { opacity: 0, y: 200, x: 200, scale: 2 } }, 0.25), 0, 0);
  controller.addTween(minela2, staggerTween);
  controller.addTween(line5, TweenLite.from(line5, 3, { drawSVG: '85% 85%' }));
  controller.addTween(line5, TweenLite.from($('.line-responsive'), 3, { drawSVG: '0% 0%' }));
});

/* Servicios */
$(document).ready(function () {
  owl_Servicios.owlCarousel({
    loop: true,
    items: 3,
    autoplay: true,
    autoplayTimeout: 3000,
    autoplayHoverPause: true,
    center: true,
    margin: 118,
    dragEndSpeed: 1000, //speed when touch
    dotsSpeed: 1000, //speed with dots
    autoplaySpeed: 1000
  });


  var elementoAnterior = 0;
  var servicios_icono1_Books = $(['#servicios_icono1 > #Books_1_ rect', '#servicios_icono1 > #cuadrados_1_ rect', '#servicios_icono1 > #Diploma_1_ rect']);
  var servicios_icono1_Reloj_min = $('#servicios_icono1 > #Reloj-min_1_');
  var servicios_icono1_Line_start = $(['#servicios_icono1 > #Lineas_x5F_Start_1_ line', '#servicios_icono1 > #Diploma_1_ line']);
  var servicios_icono1_Humo = $('#servicios_icono1 > #humo_1_ path');
  var servicios_icono1_regla = $('#servicios_icono1 #regla_1_');
  var servicios_icono1_pluma = $('#servicios_icono1 #Pluma_1_');
  var servicios_icono1_Pantone1 = $('#servicios_icono1 #Pantone1_1_');
  var servicios_icono1_Pantone2 = $('#servicios_icono1 #Pantone2_1_');
  var servicios_icono1_Pantone3 = $('#servicios_icono1 #Pantone3_1_');
  var servicios_icono1_Lamp = $('#servicios_icono1 #Lamp_1_');
  var servicios_icono1_headerLamp = $('#servicios_icono1 #headerLamp_1_');

  var servicios_icono2_nubes = $('#servicios_icono2 #Nubes_1_ g');

  owl_Servicios.on('translated.owl.carousel', onTranslatedEvent);
  function onTranslatedEvent(event) {
    // Elemento Anterior --> cierre
    if (elementoAnterior == 0) {
      var TimeCloseIcon1 = new TimelineMax();
      TimeCloseIcon1.append(TweenMax.staggerTo(servicios_icono1_Books, 1, { scaleX: 0, transformOrigin: '0% 0%' }, 0.1), 0, 0);
      TweenLite.to(servicios_icono1_Reloj_min, 2, { rotation: 0, transformOrigin: 'center center' });
      TweenLite.to(servicios_icono1_Lamp, 1, { fill: '#fff' });
      TweenLite.to(servicios_icono1_regla, 1, { rotation: 0, transformOrigin: '100% 100%' });
      TweenLite.to(servicios_icono1_pluma, 1, { rotation: 0, transformOrigin: '0 10' });
      TweenLite.to(servicios_icono1_headerLamp, 1, { rotation: 0, transformOrigin: '18 0' });
      TweenLite.to(servicios_icono1_Pantone3, 1, { rotation: 0, transformOrigin: '10 19' });
      TweenLite.to(servicios_icono1_Pantone2, 1, { rotation: 0, transformOrigin: '10 19' });
      TweenLite.to(servicios_icono1_Pantone1, 1, { rotation: 0, transformOrigin: '10 19' });
      TweenLite.to(servicios_icono1_Line_start, 2, { drawSVG: '50% 50%' });
      TweenLite.to(servicios_icono1_Humo, 2, { drawSVG: '100% 100%' });
    }
    if (elementoAnterior == 1) {
      var TimeCloseIcon2 = new TimelineMax();
      TimeCloseIcon2.append(TweenMax.staggerTo(servicios_icono2_nubes, 1, { scaleX: 0, transformOrigin: '0% 0%' }, 0.1), 0, 0);
    }
    elementoAnterior = event.page.index;

    // Elemento Nuevo --> Apertura
    if (event.page.index == 0) {
      var TimeIcon1 = new TimelineMax();
      TimeIcon1.append(TweenMax.staggerTo(servicios_icono1_Books, 1, { scaleX: 1, transformOrigin: '0% 0%' }, 0.1), 0, 0);
      TweenLite.to(servicios_icono1_Reloj_min, 3, { rotation: 240, transformOrigin: 'center center' });
      TweenLite.to(servicios_icono1_Lamp, 1, { fill: '#C9BB9E' });
      TweenLite.to(servicios_icono1_regla, 1, { rotation: 50, transformOrigin: '100% 100%' });
      TweenLite.to(servicios_icono1_pluma, 1, { rotation: -90, transformOrigin: '0 10' });
      TweenLite.to(servicios_icono1_headerLamp, 1, { rotation: -25, transformOrigin: '18 0' });
      TweenLite.to(servicios_icono1_Pantone3, 1, { rotation: -90, transformOrigin: '10 19' });
      TweenLite.to(servicios_icono1_Pantone2, 1, { rotation: -45, transformOrigin: '10 19' });
      TweenLite.to(servicios_icono1_Pantone1, 1, { rotation: 0, transformOrigin: '10 19' });
      TweenLite.to(servicios_icono1_Line_start, 2, { drawSVG: '0% 100%' });
      TimeIcon1.set(servicios_icono1_Humo, { drawSVG: '0% 0%' }).to(servicios_icono1_Humo, 1, { drawSVG: '10% 50%', ease: Linear.easeNone }).to(servicios_icono1_Humo, 1, { drawSVG: '35% 80%', ease: Linear.easeNone }).to(servicios_icono1_Humo, 2, { drawSVG: '100% 100%', ease: Linear.easeNone });
    }
    // Elemento Nuevo --> Apertura
    if (event.page.index == 1) {
      var TimeIcon2 = new TimelineMax();
      TimeIcon2.append(TweenMax.staggerTo(servicios_icono2_nubes, 1, { scaleX: 1, transformOrigin: '0% 0%' }, 0.1), 0, 0);
    }
  }
});

function PorfolioAltoMiselanea() {
  var AltoMap = $('.porfolio-content').height();
  $('.porfolio #XMLID_1_ rect').css('height', AltoMap);
}
PorfolioAltoMiselanea();


/*===========================================================*/
/*  Contact Form
/*===========================================================*/
$(document).ready(function () {
  $('#contact-form').validate({
    rules: {
      name: {
        minlength: 3,
        required: true
      },
      email: {
        minlength: 5,
        required: true
      },
      message: {
        required: true
      },
    },
    highlight: function (element) {
      $(element).closest('input').removeClass('success').addClass('error');
    },
    success: function (element) {
      element
        .text('').addClass('valid')
        .closest('input').removeClass('error').addClass('success');
    },
    submitHandler: function (form) {
      $.ajax({
        type: 'POST',
        url: 'php/contacto.php',
        data: $(form).serialize(),
        success: function () {
          $('.oculto').fadeOut(300);
          $('.enviado').delay(400).fadeIn(300);
          $('Input', 'textarea').val('');
          $('.error').text('');
          $('.enviado').delay(5000).fadeOut(300);
          $('.oculto').delay(6000).fadeIn(300);
        }
      });
      return false; // required to block normal submit since you used ajax
    }
  });

});



/*!
 * classie - class helper functions
 * from bonzo https://github.com/ded/bonzo
 * 
 * classie.has( elem, 'my-class' ) -> true/false
 * classie.add( elem, 'my-new-class' )
 * classie.remove( elem, 'my-unwanted-class' )
 * classie.toggle( elem, 'my-class' )
 */

/*jshint browser: true, strict: true, undef: true */
/*global define: false */

(function (window) {

  'use strict';

  // class helper functions from bonzo https://github.com/ded/bonzo

  function classReg(className) {
    return new RegExp('(^|\\s+)' + className + '(\\s+|$)');
  }

  // classList support for class management
  // altho to be fair, the api sucks because it won't accept multiple classes at once
  var hasClass, addClass, removeClass;

  if ('classList' in document.documentElement) {
    hasClass = function (elem, c) {
      return elem.classList.contains(c);
    };
    addClass = function (elem, c) {
      elem.classList.add(c);
    };
    removeClass = function (elem, c) {
      elem.classList.remove(c);
    };
  }
  else {
    hasClass = function (elem, c) {
      return classReg(c).test(elem.className);
    };
    addClass = function (elem, c) {
      if (!hasClass(elem, c)) {
        elem.className = elem.className + ' ' + c;
      }
    };
    removeClass = function (elem, c) {
      elem.className = elem.className.replace(classReg(c), ' ');
    };
  }

  function toggleClass(elem, c) {
    var fn = hasClass(elem, c) ? removeClass : addClass;
    fn(elem, c);
  }

  var classie = {
    // full names
    hasClass: hasClass,
    addClass: addClass,
    removeClass: removeClass,
    toggleClass: toggleClass,
    // short names
    has: hasClass,
    add: addClass,
    remove: removeClass,
    toggle: toggleClass
  };

  // transport
  if (typeof define === 'function' && define.amd) {
    // AMD
    define(classie);
  } else {
    // browser global
    window.classie = classie;
  }

})(window);

(function () {
  // trim polyfill : https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim
  if (!String.prototype.trim) {
    (function () {
      // Make sure we trim BOM and NBSP
      var rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
      String.prototype.trim = function () {
        return this.replace(rtrim, '');
      };
    })();
  }

  [].slice.call(document.querySelectorAll('.input__field')).forEach(function (inputEl) {
    // in case the input is already filled..
    if (inputEl.value.trim() !== '') {
      classie.add(inputEl.parentNode, 'input--filled');
    }

    // events:
    inputEl.addEventListener('focus', onInputFocus);
    inputEl.addEventListener('blur', onInputBlur);
  });

  function onInputFocus(ev) {
    classie.add(ev.target.parentNode, 'input--filled');
  }

  function onInputBlur(ev) {
    if (ev.target.value.trim() === '') {
      classie.remove(ev.target.parentNode, 'input--filled');
    }
  }
})();

/*
--- NAV ---


    var width_Home = $( '.Nav-Home a span' ).width();
    var width_Servicios = $( '.Nav-Servicios a span' ).width();
    var width_Porfolio = $( '.Nav-Porfolio a span' ).width();
    var width_Contacto = $( '.Nav-Contacto a span' ).width();

    function pepe() {
        $( '.Nav-Home:not(.active) a span' ).css({ 'width': width_Home });
        $( '.Nav-Servicios:not(.active) a span' ).css({ 'width': width_Servicios });
        $( '.Nav-Porfolio:not(.active) a span' ).css({ 'width': width_Porfolio    });
        $( '.Nav-Contacto:not(.active) a span' ).css({ 'width': width_Contacto   });
    };
    function pepe2() {
        $( '.Nav-Home:not(.active) a span' ).css({ 'width': 0 });
        $( '.Nav-Servicios:not(.active) a span' ).css({ 'width': 0 });
        $( '.Nav-Porfolio:not(.active) a span' ).css({ 'width': 0  });
        $( '.Nav-Contacto:not(.active) a span' ).css({ 'width': 0 });
    };
    $( 'nav' ).mouseenter( pepe );
    $( 'nav' ).mouseleave( pepe2 ) ;
    pepe2();
    */
//# sourceMappingURL=app.min.js.map
